// Phase 44: Ledger Test - Proving Memory is a Blockchain

fn main() {
    print(111111) // Start Ledger Test
    
    // Buffer for 32-byte hash
    // 4 * 8 = 32 bytes
    let hash_buf = alloc(4) 
    
    print(222222) // Genesis State
    
    // Get initial hash
    chain_hash(hash_buf)
    
    // Print it (32 bytes)
    print_hex(hash_buf, 32)
    
    // Change state (Mine Block 1)
    print(333333) 
    let a = alloc(100)
    
    // Hash MUST change
    chain_hash(hash_buf)
    print_hex(hash_buf, 32)
    
    // Change state (Mine Block 2)
    print(444444)
    let b = alloc(50)
    
    chain_hash(hash_buf)
    print_hex(hash_buf, 32)
    
    print(999999)
}
