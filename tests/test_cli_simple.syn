fn main() {
    io_println("Starting CLI test...")
    let cmd = get_cmd_line()
    io_print("CMD Pointer: ")
    print_num(cmd) // Assuming print_num works
    io_println("")
    
    let c = getbyte(cmd, 0)
    io_print("First char: ")
    print_num(c)
    io_println("")
    
    return 0
}

fn str_len(s) {
    let i = 0
    while getbyte(s, i) > 0 {
        i = i + 1
    }
    return i
}

fn io_print(s) {
    let len = str_len(s)
    let h = getstd(-11)
    write(h, s, len)
    return 0
}

fn io_println(s) {
    io_print(s)
    let nl = alloc(2)
    setbyte(nl, 0, 13)
    setbyte(nl, 1, 10)
    io_print(nl)
    return 0
}

fn print_num(n) {
    if n == 0 {
        io_print("0")
        return 0
    }
    
    let buf = alloc(32)
    let i = 30
    setbyte(buf, 31, 0)
    
    let x = n
    while x > 0 {
        let rem = x % 10
        let ch = rem + 48
        setbyte(buf, i, ch)
        x = x / 10
        i = i - 1
    }
    
    let start = i + 1
    let p = alloc(32)
    let j = 0
    while j < (31 - i) {
        let val = getbyte(buf, start + j)
        setbyte(p, j, val)
        j = j + 1
    }
    setbyte(p, j, 0)
    io_print(p)
    return 0
}
